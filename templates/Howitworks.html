<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Colorectal Cancer Prediction</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://3Dmol.csb.pitt.edu/build/3Dmol-min.js"></script>
  <style>
    body {
      background-color: #f8f9fa;
    }
    .navbar {
      background-color: #002855;
    }
    .navbar-brand, .nav-link {
      color: white !important;
    }
    .card {
      border-radius: 15px;
      overflow: hidden;
    }
    .btn-primary {
      background-color: #004aad;
      border: none;
    }
    .btn-primary:hover {
      background-color: #003580;
    }
    .result-box {
      font-size: 1.1rem;
      font-weight: bold;
      margin-top: 15px;
      text-align: center;
    }
    .viewer {
      width: 100%;
      height: 300px;
      margin-bottom: 10px;
    }
    .bgbl {
      background-color: #f2f9fc;
    }
    .navbar .dropdown-menu {
      background-color: #002855;
      border: none;
    }
    .navbar .dropdown-menu .dropdown-item {
      color: white;
    }
    .navbar .dropdown-menu .dropdown-item:hover {
      background-color: #004aad;
      color: #fff;
    }
    .navbar .nav-link:hover {
      color: gray !important;
    }
    .content-section {
      padding: 20px 0;
    }
  </style>
</head>

<body>
  <div width="100%" align="center" style="padding: 10px; display: flex; align-items: center; justify-content: center; gap: 140px; background-color: white;">
    <img src="{{ url_for('static', filename='images/logo_Cancer.png') }}" alt="Logo" style="height: 90px;">
    <p id="mainTitle" style="font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; font-weight: 900; font-size: 200%; color: #003580;">
      Deep Learning Approaches for Non-invasive <br> Colorectal Cancer Prediction
    </p>
    <a href="https://en.uhsvnu.edu.vn/" target="_blank">
      <img src="{{ url_for('static', filename='images/logo_UHS.png') }}" alt="Logo" style="height: 60px;">
    </a>
  </div>

  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg" style="padding-top: 0px; padding-bottom: 0px;">
    <div class="container">
      <ul class="navbar-nav d-flex gap-5">
        <li class="nav-item">
          <a class="nav-link" href="/index" id="navPredict" style="font-size:20px; color:white;">Predict</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/overview" id="navOverview" style="font-size: 20px;">CRC Overview</a>
        </li>
        <li class="nav-item" style="background-color: rgb(119, 158, 212);">
          <a class="nav-link" href="/howitworks" id="navHowItWorks" style="font-size: 20px;">How It Works</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/contact" id="navContact" style="font-size: 20px;">Contact</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/aboutus" id="navAboutUs" style="font-size: 20px;">About Us</a>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="langDropdown" role="button"
             data-bs-toggle="dropdown" aria-expanded="false" style="font-size: 20px;">
            Change Language
          </a>
          <ul class="dropdown-menu" aria-labelledby="langDropdown">
            <li><a class="dropdown-item" href="?lang=en">English</a></li>
            <li><a class="dropdown-item" href="?lang=vi">Tiếng Việt</a></li>
          </ul>
        </li>
      </ul>
    </div>
  </nav>

  <!-- Bootstrap Bundle JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <!-- Content -->
  <div class="container content-section">
    <h2 id="section1"></h2>
    <p id="desc1"></p>
    <p id="desc2"></p>
    <p id="desc3"></p>
    <h2 id="section2"></h2>
    <h2 id="section3"></h2>
  </div>

  <!-- Footer -->
  <footer>
    <div style="width: 100%; height: 100px; background-color: #002855; padding: 0px"></div>
    <div class="text-center py-3" style="background-color: #3a3c3d; color: white;">
      <p id="footerText" style="margin: 0; font-size: 14px;">
        © 2025 Colorectal Cancer Prediction
      </p>
    </div>
  </footer>

  <!-- Script -->
  <script>
    function getParameterByName(name) {
      const urlParams = new URLSearchParams(window.location.search);
      return urlParams.get(name);
    }

    let currentLang = getParameterByName('lang') || 'en';
    if (currentLang !== 'en' && currentLang !== 'vi') currentLang = 'en';

    const translations = {
      en: {
        mainTitle: "Deep Learning Approaches for Non-invasive <br> Colorectal Cancer Prediction",
        navPredict: "Predict",
        navOverview: "CRC Overview",
        navHowItWorks: "How It Works",
        navContact: "Contact",
        navAboutUs: "About Us",
        langDropdown: "Change Language",
       
        desc1: "Deep learning is a branch of machine learning that mimics how the human brain processes information. It uses artificial neural networks with multiple layers to learn from large datasets. In the context of colorectal cancer (CRC) prediction, deep learning models can analyze complex patterns in gene expression data to identify risk factors and predict disease outcomes. By training on diverse datasets, these models can improve accuracy and assist clinicians in making informed decisions.",
        desc2: "Advances in deep learning and predictive modeling now allow for non-invasive tools to estimate CRC risk and guide clinical decisions. Our tool integrates patient data to provide personalized predictions, helping clinicians and patients make informed choices.",
        desc3: "The model is designed using a Multi-Layer Neural Network (MLP) architecture using Scikit Learn Library. The model is trained on a published datasets and validated on both published datasets and Vietnamese datasets.",
   
        footerText: "© 2025 Colorectal Cancer Prediction"
      },
      vi: {
        mainTitle: "Ứng dụng Mô hình Học sâu trong Dự đoán <br> Ung thư Đại Trực Tràng Không Xâm Lấn",
        navPredict: "Dự đoán",
        navOverview: "Tổng quan CRC",
        navHowItWorks: "Cách hoạt động",
        navContact: "Liên hệ",
        navAboutUs: "Về chúng tôi",
        langDropdown: "Chọn ngôn ngữ",
        
        desc1: "Học sâu là một nhánh của học máy trong đó thuật toán sẽ mô phỏng cách bộ não con người xử lý thông tin. Các mạng nơ-ron nhân tạo được thiết kế với nhiều lớp để học từ các tập dữ liệu lớn. Trong lĩnh vực dự đoán ung thư đại trực tràng, các mô hình deep learning có thể phân tích các mẫu phức tạp trong dữ liệu biểu hiện gen nhằm xác định các yếu tố nguy cơ và dự đoán tiến triển bệnh. Bằng cách huấn luyện trên nhiều tập dữ liệu đa dạng, các mô hình này có thể nâng cao độ chính xác và hỗ trợ bác sĩ đưa ra quyết định lâm sàng chính xác hơn.",
        desc2: "Những tiến bộ trong lĩnh vực deep learning và mô hình dự đoán hiện nay cho phép phát triển các công cụ không xâm lấn để ước tính nguy cơ mắc ung thư đại trực tràng và hỗ trợ quyết định lâm sàng. Công cụ của chúng tôi tích hợp dữ liệu bệnh nhân để đưa ra các dự đoán cá nhân hóa, giúp bác sĩ và người bệnh đưa ra lựa chọn chính xác và phù hợp.",
        desc3: "Mô hình được thiết kế dựa trên kiến trúc Mạng Nơ-ron Đa lớp (MLP) sử dụng thư viện Scikit-learn. Mô hình được huấn luyện trên các tập dữ liệu đã công bố và được kiểm chứng trên cả dữ liệu đã công bố lẫn dữ liệu từ Việt Nam.",
    
        footerText: "© 2025 Dự đoán Ung thư Đại Trực Tràng"
      }
    };

    function switchLang(lang) {
      currentLang = lang;
      document.getElementById("mainTitle").innerHTML = translations[lang].mainTitle;
      document.getElementById("navPredict").textContent = translations[lang].navPredict;
      document.getElementById("navOverview").textContent = translations[lang].navOverview;
      document.getElementById("navHowItWorks").textContent = translations[lang].navHowItWorks;
      document.getElementById("navContact").textContent = translations[lang].navContact;
      document.getElementById("navAboutUs").textContent = translations[lang].navAboutUs;
      document.getElementById("langDropdown").textContent = translations[lang].langDropdown;

      document.getElementById("section1").textContent = translations[lang].section1;
      document.getElementById("desc1").textContent = translations[lang].desc1;
      document.getElementById("desc2").textContent = translations[lang].desc2;
      document.getElementById("desc3").textContent = translations[lang].desc3;
      document.getElementById("section2").textContent = translations[lang].section2;
      document.getElementById("section3").textContent = translations[lang].section3;
      document.getElementById("footerText").textContent = translations[lang].footerText;

      window.history.pushState({}, '', `?lang=${lang}`);
      updateNavLinksByLang();
    }

    document.addEventListener('DOMContentLoaded', () => {
      // Set initial language based on URL parameter
      const urlLang = getParameterByName('lang');
      if (urlLang === 'vi') {
        switchLang('vi');
      } else {
        switchLang('en');
      }

      // Update nav links based on current language
      function updateNavLinksByLang() {
        const isVi = document.getElementById("navPredict").textContent.trim() === 'Dự đoán';
        document.querySelectorAll('a.nav-link').forEach(a => {
          const href = a.getAttribute('href');
          if (!href || href.startsWith('#') || href.startsWith('http')) return;
          const url = new URL(href, location.origin);
          if (isVi) {
            url.searchParams.set('lang', 'vi');
          } else {
            url.searchParams.delete('lang');
          }
          a.setAttribute('href', url.pathname + url.search);
        });
      }

      // Override switchLang to update nav links
      const origSwitchLang = window.switchLang;
      window.switchLang = function(lang) {
        origSwitchLang(lang);
        updateNavLinksByLang();
      };

      updateNavLinksByLang();
    });
  </script>
</body>
</html>
